---
resources:
- name: repo
  type: git
  source:
    uri: https://github.com/dolph/rust-skeleton.git
    branch: master
- name: daily
  type: time
  source: {interval: 24h}

jobs:
- name: build
  plan:
  - get: daily
    trigger: true
  - get: repo
    trigger: true
  - task: build
    config:
      platform: linux
      image_resource:
        type: docker-image
        source:
          repository: dolphm/ubuntu-latest-rust-nightly
      inputs:
      - name: repo
      run:
        path: repo/ci/build.sh
